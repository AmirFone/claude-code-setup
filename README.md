# Claude Code Local Setup

My personal Claude Code configuration with safety hooks, TTS notifications, specialized agents, and logging.

## What This Is

This repo contains my Claude Code setup. It adds:

- 8 hooks for safety, logging, and audio alerts
- 4 agents for research, writing, debugging, and security scanning
- Multi-tier TTS with fallback providers
- LLM-generated completion messages

## Hooks

All hooks run via `uv run` and are configured in `settings.json`.

| Hook | Purpose |
|------|---------|
| `pre_tool_use.py` | Blocks dangerous commands and .env access |
| `post_tool_use.py` | Logs tool results |
| `notification.py` | TTS alert when agent needs input |
| `stop.py` | TTS completion message, saves transcript |
| `subagent_stop.py` | Handles Task tool completion |
| `user_prompt_submit.py` | Logs prompts, names agents |
| `pre_compact.py` | Logs context compaction |
| `session_start.py` | Session initialization |

Safety gates block `rm -rf` variants and `.env` file access. Everything else gets logged.

## Agents

| Agent | What It Does |
|-------|--------------|
| `deep-research-got.md` | Graph of Thoughts research with source triangulation |
| `clarity-researcher-writer.md` | Research-first writing with strict clarity rules |
| `debug-investigator.md` | Root cause analysis for bugs |
| `security-vulnerability-hunter.md` | Security scanning across the codebase |

Agents live in the `agents/` directory. Each has a frontmatter block with name, description, model, and color.

## TTS Setup

The system picks the best available TTS provider:

1. ElevenLabs (needs `ELEVENLABS_API_KEY`)
2. OpenAI (needs `OPENAI_API_KEY`)
3. pyttsx3 (local, no API needed)

Completion messages are generated by LLMs with similar fallback:

1. OpenAI
2. Anthropic
3. Ollama (local)
4. Hardcoded phrases

## Logging

Each project gets a `logs/` directory with JSON files for every hook event. Useful for debugging and auditing.

## Setup

```bash
# Install uv
curl -LsSf https://astral.sh/uv/install.sh | sh

# Copy to Claude config location
cp -r . ~/.claude

# Add API keys (optional)
cp .env.sample .env
# Edit .env with your keys
```

## Requirements

- Python 3.11+
- uv package manager
- Claude Code CLI

Optional: ElevenLabs, OpenAI, or Anthropic API keys for TTS and completion messages.
